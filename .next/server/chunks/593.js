exports.id=593,exports.ids=[593],exports.modules={35303:()=>{},76880:(e,a,s)=>{"use strict";s.d(a,{p:()=>z});var n=s(97247),i=s(28964),t=s(2704),r=s(34631),l=s(54641),c=s(27757),m=s(58053),d=s(22394),o=s(90713),x=s(44161),u=s(25008);let f=i.forwardRef(({className:e,...a},s)=>n.jsx(o.fC,{className:(0,u.cn)("grid gap-2",e),...a,ref:s}));f.displayName=o.fC.displayName;let h=i.forwardRef(({className:e,...a},s)=>n.jsx(o.ck,{ref:s,className:(0,u.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:n.jsx(o.z$,{className:"flex items-center justify-center",children:n.jsx(x.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));h.displayName=o.ck.displayName;var y=s(88518);let p=i.forwardRef(({className:e,...a},s)=>(0,n.jsxs)(y.fC,{ref:s,className:(0,u.cn)("relative flex w-full touch-none select-none items-center",e),...a,children:[n.jsx(y.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(y.e6,{className:"absolute h-full bg-primary"})}),n.jsx(y.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));p.displayName=y.fC.displayName;var g=s(70170);let j=(0,i.forwardRef)(({value:e,onChange:a,className:s,...i},t)=>(0,n.jsxs)("div",{className:"relative",children:[n.jsx(g.I,{ref:t,type:"text",value:e?new Intl.NumberFormat("tr-TR").format(e):"",onChange:e=>{let s=parseInt(e.target.value.replace(/[^\d]/g,""))||0;a?.(s)},className:(0,u.cn)("pr-12",s),...i}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("span",{className:"text-gray-500 text-sm",children:"TL"})})]}));function b({className:e,size:a="md"}){return n.jsx("div",{className:(0,u.cn)("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[a],e)})}j.displayName="CurrencyInput";var N=s(83807),v=s(20290),w=s(17818);let k=l.z.object({financingType:l.z.enum(["cekilisli","cekilissiz"]),financingAmount:l.z.number().min(5e4,"Minimum 50.000 TL").max(5e6,"Maksimum 5.000.000 TL"),downPayment:l.z.number().min(0,"Negatif olamaz"),organizationFeeRate:l.z.number().min(5,"Minimum %5").max(10,"Maksimum %10"),monthlyPayment:l.z.number().min(1e3,"Minimum 1.000 TL")});function z({calculationType:e,onCalculate:a,loading:s}){let[l,o]=(0,i.useState)([7]),{register:x,handleSubmit:u,watch:y,setValue:g,formState:{errors:z}}=(0,t.cI)({resolver:(0,r.F)(k),defaultValues:{financingType:"cekilissiz",financingAmount:5e5,downPayment:0,organizationFeeRate:7,monthlyPayment:5e3}}),T=y(),F=.5*T.financingAmount,P=async s=>{let n=(0,N.Iw)({...s,calculationType:e});if(n.length>0){n.forEach(e=>{w.Am.error(e)});return}try{a(s);let n=await fetch("/api/calculations",{method:"POST",headers:{"Content-Type":"application/json","x-session-id":C()},body:JSON.stringify({...s,calculationType:e})});if(n&&n.ok){let e=await n.json();console.log("Calculation saved:",e),w.Am.success("Hesaplama başarıyla kaydedildi!")}else{let e=await n?.json();console.error("API Error:",e),w.Am.error("Hesaplama kaydedilemedi, ancak sonu\xe7lar g\xf6steriliyor.")}}catch(e){console.error("Save error:",e),w.Am.error("Hesaplama kaydedilemedi, ancak sonu\xe7lar g\xf6steriliyor.")}},C=()=>{let e=localStorage.getItem("session-id");return e||(e="session-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),localStorage.setItem("session-id",e)),e};return(0,n.jsxs)(c.Zb,{className:"w-full",children:[n.jsx(c.Ol,{children:n.jsx(c.ll,{className:"flex items-center space-x-2",children:(0,n.jsxs)("span",{children:["ev"===e?"Ev":"Araba"," Finansman Hesaplayıcı"]})})}),n.jsx(c.aY,{children:(0,n.jsxs)("form",{onSubmit:u(P),className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-3",children:[n.jsx(d._,{className:"text-base font-medium",children:"Finansman Tipi"}),(0,n.jsxs)(f,{value:T.financingType,onValueChange:e=>g("financingType",e),className:"flex flex-col space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(h,{value:"cekilissiz",id:"cekilissiz"}),n.jsx(d._,{htmlFor:"cekilissiz",className:"cursor-pointer",children:"\xc7ekilişsiz - Finansman tarihini kendiniz belirleyin"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(h,{value:"cekilisli",id:"cekilisli"}),n.jsx(d._,{htmlFor:"cekilisli",className:"cursor-pointer",children:"\xc7ekilişli - Rastgele \xe7ekiliş ile finansman tarihi belirlenir"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"financingAmount",className:"text-base font-medium",children:"Finansman Miktarı"}),n.jsx(j,{id:"financingAmount",value:T.financingAmount,onChange:e=>g("financingAmount",e),placeholder:"500.000"}),z.financingAmount&&(0,n.jsxs)("p",{className:"text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(v.Z,{className:"h-4 w-4"}),n.jsx("span",{children:z.financingAmount.message})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"downPayment",className:"text-base font-medium",children:"Peşinat Tutarı (İsteğe Bağlı)"}),n.jsx(j,{id:"downPayment",value:T.downPayment,onChange:e=>g("downPayment",Math.min(e,F)),placeholder:"0"}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Maksimum: ",new Intl.NumberFormat("tr-TR").format(F)," TL (Finansman tutarının %50'si)"]}),z.downPayment&&(0,n.jsxs)("p",{className:"text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(v.Z,{className:"h-4 w-4"}),n.jsx("span",{children:z.downPayment.message})]})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)(d._,{className:"text-base font-medium",children:["Organizasyon \xdccreti: %",l[0]]}),n.jsx(p,{value:l,onValueChange:e=>{o(e),g("organizationFeeRate",e[0])},max:10,min:5,step:.5,className:"w-full"}),(0,n.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[n.jsx("span",{children:"%5"}),n.jsx("span",{children:"%10"})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"monthlyPayment",className:"text-base font-medium",children:"Aylık Taksit Tutarı"}),n.jsx(j,{id:"monthlyPayment",value:T.monthlyPayment,onChange:e=>g("monthlyPayment",e),placeholder:"5.000"}),z.monthlyPayment&&(0,n.jsxs)("p",{className:"text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(v.Z,{className:"h-4 w-4"}),n.jsx("span",{children:z.monthlyPayment.message})]})]}),n.jsx(m.z,{type:"submit",className:"w-full h-12 text-lg",disabled:s,children:s?(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(b,{size:"sm"}),n.jsx("span",{children:"Hesaplanıyor..."})]}):"\xd6deme Planını Hesapla"})]})})]})}},50863:(e,a,s)=>{"use strict";s.d(a,{H:()=>z});var n=s(97247),i=s(28964),t=s(27757),r=s(58053),l=s(88964),c=s(25008);let m=i.forwardRef(({className:e,...a},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:(0,c.cn)("w-full caption-bottom text-sm",e),...a})}));m.displayName="Table";let d=i.forwardRef(({className:e,...a},s)=>n.jsx("thead",{ref:s,className:(0,c.cn)("[&_tr]:border-b",e),...a}));d.displayName="TableHeader";let o=i.forwardRef(({className:e,...a},s)=>n.jsx("tbody",{ref:s,className:(0,c.cn)("[&_tr:last-child]:border-0",e),...a}));o.displayName="TableBody",i.forwardRef(({className:e,...a},s)=>n.jsx("tfoot",{ref:s,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let x=i.forwardRef(({className:e,...a},s)=>n.jsx("tr",{ref:s,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));x.displayName="TableRow";let u=i.forwardRef(({className:e,...a},s)=>n.jsx("th",{ref:s,className:(0,c.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));u.displayName="TableHead";let f=i.forwardRef(({className:e,...a},s)=>n.jsx("td",{ref:s,className:(0,c.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));f.displayName="TableCell",i.forwardRef(({className:e,...a},s)=>n.jsx("caption",{ref:s,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption";var h=s(83807),y=s(42841);s(53192);var p=s(13808);function g(e){switch(e){case"waiting":return"Bekleniyor";case"accessible":return"Erişilebilir";case"lucky":return"Şanslı";case"unlucky":return"Şanssız";default:return"Bilinmiyor"}}var j=s(74022),b=s(50820),N=s(66903),v=s(62752),w=s(17712),k=s(999);function z({result:e,calculationType:a,financingType:s}){let[z,T]=(0,i.useState)(1),F=Math.ceil(e.schedule.length/12),P=e.schedule.slice((z-1)*12,12*z),C=(e,a)=>{switch(e){case"waiting":return n.jsx(l.C,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Erişim Yok"});case"accessible":return n.jsx(l.C,{variant:"default",className:"bg-green-100 text-green-800",children:"Erişilebilir"});case"lucky":return n.jsx(l.C,{variant:"default",className:"bg-green-100 text-green-800",children:"Şanslı"});case"unlucky":return n.jsx(l.C,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Şanssız"});default:return n.jsx(l.C,{variant:"secondary",children:"Bilinmiyor"})}},A=(e,a)=>{if(a<=5)return"bg-red-50 border-l-4 border-l-red-500";switch(e){case"accessible":case"lucky":return"bg-green-50 border-l-4 border-l-green-500";case"unlucky":return"bg-yellow-50 border-l-4 border-l-yellow-500";default:return""}};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(t.Zb,{children:n.jsx(t.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(j.Z,{className:"h-5 w-5 text-blue-600"}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Toplam \xd6deme"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:(0,h.xG)(e.totalPayment)})]})]})})}),n.jsx(t.Zb,{children:n.jsx(t.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(b.Z,{className:"h-5 w-5 text-green-600"}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Taksit Sayısı"}),(0,n.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[e.installmentCount," ay"]})]})]})})}),n.jsx(t.Zb,{children:n.jsx(t.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(N.Z,{className:"h-5 w-5 text-purple-600"}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Organizasyon \xdccreti"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:(0,h.xG)(e.organizationFee)})]})]})})}),n.jsx(t.Zb,{children:n.jsx(t.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(v.Z,{className:"h-5 w-5 text-orange-600"}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Erişim Ayı"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.accessibleMonth?`${e.accessibleMonth}. ay`:"Belirsiz"})]})]})})})]}),(0,n.jsxs)(t.Zb,{children:[n.jsx(t.Ol,{children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[(0,n.jsxs)(t.ll,{className:"flex items-center space-x-2",children:[n.jsx(w.Z,{className:"h-5 w-5"}),n.jsx("span",{children:"\xd6deme Planı"})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>(function(e,a,s){let n=new y.default;n.setFontSize(20),n.text(`Evim Sistemleri - ${"ev"===a?"Ev":"Araba"} Finansman Planı`,20,30),n.setFontSize(12),n.text(`Finansman Tipi: ${"cekilisli"===s?"\xc7ekilişli":"\xc7ekilişsiz"}`,20,50),n.text(`Toplam \xd6deme: ${(0,h.xG)(e.totalPayment)}`,20,60),n.text(`Taksit Sayısı: ${e.installmentCount} ay`,20,70),n.text(`Organizasyon \xdccreti: ${(0,h.xG)(e.organizationFee)}`,20,80);let i=e.schedule.map(e=>[e.monthNumber,(0,h.p6)(e.paymentDate),(0,h.xG)(e.paymentAmount),(0,h.xG)(e.remainingBalance),e.canAccessFinancing?"Evet":"Hayır",g(e.status)]);n.autoTable({head:[["Ay","Tarih","\xd6deme","Kalan Bakiye","Erişim","Durum"]],body:i,startY:90,styles:{fontSize:8},headStyles:{fillColor:[59,130,246]}}),n.save(`evim-sistemleri-${a}-finansman-plani.pdf`)})(e,a,s),children:[n.jsx(k.Z,{className:"h-4 w-4 mr-2"}),"PDF İndir"]}),(0,n.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>(function(e,a,s){let n=[["Evim Sistemleri - Finansman Planı",""],["Finansman Tipi","cekilisli"===s?"\xc7ekilişli":"\xc7ekilişsiz"],["Toplam \xd6deme",e.totalPayment],["Taksit Sayısı",`${e.installmentCount} ay`],["Organizasyon \xdccreti",e.organizationFee],["Net Finansman",e.netFinancing],["Gerekli \xd6deme",e.requiredPayment],["",""],["Ay","Tarih","\xd6deme Tutarı","Kalan Bakiye","K\xfcm\xfclatif \xd6deme","Erişim","Durum"],...e.schedule.map(e=>[e.monthNumber,(0,h.p6)(e.paymentDate),e.paymentAmount,e.remainingBalance,e.cumulativePayment,e.canAccessFinancing?"Evet":"Hayır",g(e.status)])],i=p.P6.aoa_to_sheet(n),t=p.P6.book_new();p.P6.book_append_sheet(t,i,"Finansman Planı"),p.NC(t,`evim-sistemleri-${a}-finansman-plani.xlsx`)})(e,a,s),children:[n.jsx(k.Z,{className:"h-4 w-4 mr-2"}),"Excel İndir"]})]})]})}),(0,n.jsxs)(t.aY,{children:[n.jsx("div",{className:"overflow-x-auto",children:(0,n.jsxs)(m,{children:[n.jsx(d,{children:(0,n.jsxs)(x,{children:[n.jsx(u,{className:"w-16",children:"Ay"}),n.jsx(u,{children:"Tarih"}),n.jsx(u,{className:"text-right",children:"\xd6deme Tutarı"}),n.jsx(u,{className:"text-right",children:"K\xfcm\xfclatif \xd6deme"}),n.jsx(u,{className:"text-right",children:"Kalan Bakiye"}),n.jsx(u,{className:"text-center",children:"Durum"})]})}),n.jsx(o,{children:P.map(e=>(0,n.jsxs)(x,{className:(0,c.cn)(A(e.status,e.monthNumber)),children:[n.jsx(f,{className:"font-medium",children:e.monthNumber}),n.jsx(f,{children:(0,h.p6)(e.paymentDate)}),n.jsx(f,{className:"text-right font-medium",children:(0,h.xG)(e.paymentAmount)}),n.jsx(f,{className:"text-right",children:(0,h.xG)(e.cumulativePayment)}),n.jsx(f,{className:"text-right",children:(0,h.xG)(e.remainingBalance)}),n.jsx(f,{className:"text-center",children:C(e.status,e.canAccessFinancing)})]},e.monthNumber))})]})}),F>1&&(0,n.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[n.jsx(r.z,{variant:"outline",size:"sm",onClick:()=>T(e=>Math.max(e-1,1)),disabled:1===z,children:"\xd6nceki"}),(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["Sayfa ",z," / ",F]}),n.jsx(r.z,{variant:"outline",size:"sm",onClick:()=>T(e=>Math.min(e+1,F)),disabled:z===F,children:"Sonraki"})]}),(0,n.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Durum A\xe7ıklamaları:"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),n.jsx("span",{children:"Erişim Yok: İlk 5 ay finansmana erişim yoktur"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),n.jsx("span",{children:"Erişilebilir: Finansmana erişim sağlanabilir"})]}),"cekilisli"===s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),n.jsx("span",{children:"Şanslı: \xc7ekilişte şanslı \xe7ıktınız"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),n.jsx("span",{children:"Şanssız: \xc7ekilişte şanssız \xe7ıktınız"})]})]})]})]})]})]})]})}},88964:(e,a,s)=>{"use strict";s.d(a,{C:()=>l});var n=s(97247);s(28964);var i=s(87972),t=s(25008);let r=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,...s}){return n.jsx("div",{className:(0,t.cn)(r({variant:a}),e),...s})}},27757:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>l,Zb:()=>r,aY:()=>m,ll:()=>c});var n=s(97247),i=s(28964),t=s(25008);let r=i.forwardRef(({className:e,...a},s)=>n.jsx("div",{ref:s,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));r.displayName="Card";let l=i.forwardRef(({className:e,...a},s)=>n.jsx("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let c=i.forwardRef(({className:e,...a},s)=>n.jsx("h3",{ref:s,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle",i.forwardRef(({className:e,...a},s)=>n.jsx("p",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let m=i.forwardRef(({className:e,...a},s)=>n.jsx("div",{ref:s,className:(0,t.cn)("p-6 pt-0",e),...a}));m.displayName="CardContent",i.forwardRef(({className:e,...a},s)=>n.jsx("div",{ref:s,className:(0,t.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},70170:(e,a,s)=>{"use strict";s.d(a,{I:()=>r});var n=s(97247),i=s(28964),t=s(25008);let r=i.forwardRef(({className:e,type:a,...s},i)=>n.jsx("input",{type:a,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));r.displayName="Input"},22394:(e,a,s)=>{"use strict";s.d(a,{_:()=>m});var n=s(97247),i=s(28964),t=s(40768),r=s(87972),l=s(25008);let c=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=i.forwardRef(({className:e,...a},s)=>n.jsx(t.f,{ref:s,className:(0,l.cn)(c(),e),...a}));m.displayName=t.f.displayName},83807:(e,a,s)=>{"use strict";s.d(a,{Iw:()=>m,p6:()=>c,up:()=>r,xG:()=>l});var n=s(10780),i=s(47583),t=s(15341);function r(e){let{financingAmount:a,downPayment:s=0,organizationFeeRate:i,monthlyPayment:t,financingType:r}=e,l=i/100*a,c=a-s,m=s>0?.25*c:.4*a,d=a+l,o=d-s,x=Math.ceil(o/t),u=function(e){let{installmentCount:a,monthlyPayment:s,financingType:i,requiredPayment:t,downPayment:r,remainingAmount:l}=e,c=[],m=new Date,d=r,o=l;for(let e=1;e<=a;e++){let r=(0,n.z)(m,e),l=e===a?o:s;d+=l,o-=l;let x="waiting",u=!1;if(e<=5)x="waiting",u=!1;else if(d>=t){if("cekilissiz"===i)x="accessible",u=!0;else{let e=Math.random()>.5;x=e?"lucky":"unlucky",u=e}}c.push({monthNumber:e,paymentDate:r,paymentAmount:l,remainingBalance:Math.max(0,o),canAccessFinancing:u,status:x,cumulativePayment:d})}return c}({installmentCount:x,monthlyPayment:t,financingType:r,requiredPayment:m,downPayment:s,remainingAmount:o}),f=function(e,a){for(let s of e)if(s.cumulativePayment>=a&&s.monthNumber>5)return s.monthNumber;return null}(u,m);return{schedule:u,totalPayment:d,installmentCount:x,organizationFee:l,netFinancing:c,requiredPayment:m,accessibleMonth:f}}function l(e){return new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function c(e){return(0,i.WU)(e,"dd MMMM yyyy",{locale:t.tr})}function m(e){let a=[];return(!e.financingAmount||e.financingAmount<5e4)&&a.push("Finansman tutarı en az 50.000 TL olmalıdır"),e.financingAmount&&e.financingAmount>5e6&&a.push("Finansman tutarı en fazla 5.000.000 TL olabilir"),e.downPayment&&e.financingAmount&&e.downPayment>.5*e.financingAmount&&a.push("Peşinat tutarı finansman tutarının %50'sini ge\xe7emez"),(!e.monthlyPayment||e.monthlyPayment<1e3)&&a.push("Aylık taksit tutarı en az 1.000 TL olmalıdır"),(!e.organizationFeeRate||e.organizationFeeRate<5||e.organizationFeeRate>10)&&a.push("Organizasyon \xfccreti %5-10 arasında olmalıdır"),a}}};